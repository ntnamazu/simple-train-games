services:
  game:
    image: nginx:alpine
    ports:
      - "8080:80"
    volumes:
      - .:/usr/share/nginx/html:ro

  test:
    build:
      context: .
      dockerfile: Dockerfile.test
    volumes:
      - ./tests:/app/tests:ro
      - ./playwright.config.js:/app/playwright.config.js:ro
    depends_on:
      - game
    environment:
      - CI=true
